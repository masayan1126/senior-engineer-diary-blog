---
import { SITE } from '@/lib/constants';
import { url } from '@/lib/utils';

interface Props {
  title?: string;
  description?: string;
  canonical?: string;
}

const { title, description = SITE.description, canonical } = Astro.props;
const pageTitle = title ? `${title} | ${SITE.title}` : SITE.title;
const canonicalURL = canonical || new URL(Astro.url.pathname, SITE.url).toString();
---

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>{pageTitle}</title>
<meta name="description" content={description} />
<link rel="canonical" href={canonicalURL} />
<meta name="generator" content={Astro.generator} />

<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href={url('/favicon.svg')} />

<!-- RSS -->
<link rel="alternate" type="application/rss+xml" title={SITE.title} href={url('/rss.xml')} />

<!-- PWA -->
<link rel="manifest" href={url('/manifest.json')} />
<meta name="theme-color" content="#09090b" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<meta name="apple-mobile-web-app-title" content={SITE.title} />
<link rel="apple-touch-icon" href={url('/icons/icon-192x192.png')} />
