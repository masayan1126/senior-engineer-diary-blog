---
import { SITE } from '@/lib/constants';
import { url } from '@/lib/utils';
import { getAllCategories } from '@/lib/content';
import AdSenseDisplay from '@/components/ads/AdSenseDisplay.astro';

const categories = await getAllCategories();
---

<aside class="space-y-6">
  <!-- Profile -->
  <div class="rounded-xl border border-(--color-border) bg-(--color-bg-primary) p-6">
    <div class="flex flex-col items-center text-center">
      <div class="mb-3 h-20 w-20 rounded-full bg-zinc-900 dark:bg-zinc-100 flex items-center justify-center text-3xl">
        ğŸ‘¨â€ğŸ’»
      </div>
      <h3 class="text-lg font-bold text-(--color-text-primary)">{SITE.author}</h3>
      <p class="mt-2 text-sm text-(--color-text-secondary)">
        Webé–‹ç™ºãƒ»AIãƒ»ã‚¯ãƒ©ã‚¦ãƒ‰ã«é–¢ã™ã‚‹æŠ€è¡“æƒ…å ±ã‚’ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚
      </p>
    </div>
  </div>

  <!-- Categories -->
  <div class="rounded-xl border border-(--color-border) bg-(--color-bg-primary) p-6">
    <h3 class="mb-4 text-lg font-bold text-(--color-text-primary)">ã‚«ãƒ†ã‚´ãƒª</h3>
    <ul class="space-y-2">
      {categories.map((cat) => (
        <li>
          <a
            href={url(`/categories/${cat.slug}`)}
            class="flex items-center justify-between rounded-lg px-3 py-2 text-sm text-(--color-text-secondary) hover:bg-(--color-bg-tertiary) hover:text-(--color-text-primary) transition-colors"
          >
            <span>{cat.name}</span>
            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </li>
      ))}
    </ul>
  </div>

  <!-- Ad Space -->
  <AdSenseDisplay />
</aside>
